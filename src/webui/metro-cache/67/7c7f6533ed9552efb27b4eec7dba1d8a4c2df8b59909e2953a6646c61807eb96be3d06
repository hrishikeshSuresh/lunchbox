{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"./flattenStyle","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = createAnimation;\n\n  var _flattenStyle = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"./flattenStyle\"));\n\n  function compareNumbers(a, b) {\n    return a - b;\n  }\n\n  function notNull(value) {\n    return value !== null;\n  }\n\n  function parsePosition(value) {\n    if (value === 'from') {\n      return 0;\n    }\n\n    if (value === 'to') {\n      return 1;\n    }\n\n    var parsed = parseFloat(value, 10);\n\n    if (Number.isNaN(parsed) || parsed < 0 || parsed > 1) {\n      return null;\n    }\n\n    return parsed;\n  }\n\n  var cache = {};\n\n  function createAnimation(definition) {\n    var cacheKey = JSON.stringify(definition);\n\n    if (cache[cacheKey]) {\n      return cache[cacheKey];\n    }\n\n    var positions = Object.keys(definition).map(parsePosition).filter(notNull);\n    positions.sort(compareNumbers);\n\n    if (positions.length < 2) {\n      throw new Error('Animation definitions must have at least two values.');\n    }\n\n    var compiled = {};\n\n    if (definition.easing) {\n      compiled.easing = definition.easing;\n    }\n\n    if (definition.style) {\n      compiled.style = definition.style;\n    }\n\n    var _loop = function _loop(i) {\n      var position = positions[i];\n      var keyframe = definition[position];\n\n      if (!keyframe) {\n        if (position === 0) {\n          keyframe = definition.from;\n        } else if (position === 1) {\n          keyframe = definition.to;\n        }\n      }\n\n      if (!keyframe) {\n        throw new Error('Missing animation keyframe, this should not happen');\n      }\n\n      keyframe = (0, _flattenStyle.default)(keyframe);\n      Object.keys(keyframe).forEach(function (key) {\n        if (!(key in compiled)) {\n          compiled[key] = {\n            inputRange: [],\n            outputRange: []\n          };\n        }\n\n        compiled[key].inputRange.push(position);\n        compiled[key].outputRange.push(keyframe[key]);\n      });\n    };\n\n    for (var i = 0; i < positions.length; i += 1) {\n      _loop(i);\n    }\n\n    cache[cacheKey] = compiled;\n    return compiled;\n  }\n});","map":[[9,0,1,0],[11,0,3,0],[11,11,3,9,"compareNumbers"],[11,25,3,0],[11,26,3,24,"a"],[11,27,3,0],[11,29,3,27,"b"],[11,30,3,0],[11,32,3,30],[12,0,4,2],[12,11,4,9,"a"],[12,12,4,10],[12,15,4,13,"b"],[12,16,4,2],[13,0,5,1],[15,0,7,0],[15,11,7,9,"notNull"],[15,18,7,0],[15,19,7,17,"value"],[15,24,7,0],[15,26,7,24],[16,0,8,2],[16,11,8,9,"value"],[16,16,8,14],[16,21,8,19],[16,25,8,2],[17,0,9,1],[19,0,11,0],[19,11,11,9,"parsePosition"],[19,24,11,0],[19,25,11,23,"value"],[19,30,11,0],[19,32,11,30],[20,0,12,2],[20,8,12,6,"value"],[20,13,12,11],[20,18,12,16],[20,24,12,2],[20,26,12,24],[21,0,13,4],[21,13,13,11],[21,14,13,4],[22,0,14,3],[24,0,15,2],[24,8,15,6,"value"],[24,13,15,11],[24,18,15,16],[24,22,15,2],[24,24,15,22],[25,0,16,4],[25,13,16,11],[25,14,16,4],[26,0,17,3],[28,0,18,2],[28,8,18,8,"parsed"],[28,14,18,14],[28,17,18,17,"parseFloat"],[28,27,18,27],[28,28,18,28,"value"],[28,33,18,27],[28,35,18,35],[28,37,18,27],[28,38,18,2],[30,0,19,2],[30,8,19,6,"Number"],[30,14,19,12],[30,15,19,13,"isNaN"],[30,20,19,6],[30,21,19,19,"parsed"],[30,27,19,6],[30,32,19,30,"parsed"],[30,38,19,36],[30,41,19,39],[30,42,19,6],[30,46,19,44,"parsed"],[30,52,19,50],[30,55,19,53],[30,56,19,2],[30,58,19,56],[31,0,20,4],[31,13,20,11],[31,17,20,4],[32,0,21,3],[34,0,22,2],[34,11,22,9,"parsed"],[34,17,22,2],[35,0,23,1],[37,0,25,0],[37,6,25,6,"cache"],[37,11,25,11],[37,14,25,14],[37,16,25,0],[39,0,27,15],[39,11,27,24,"createAnimation"],[39,26,27,15],[39,27,27,40,"definition"],[39,37,27,15],[39,39,27,52],[40,0,28,2],[40,8,28,8,"cacheKey"],[40,16,28,16],[40,19,28,19,"JSON"],[40,23,28,23],[40,24,28,24,"stringify"],[40,33,28,19],[40,34,28,34,"definition"],[40,44,28,19],[40,45,28,2],[42,0,29,2],[42,8,29,6,"cache"],[42,13,29,11],[42,14,29,12,"cacheKey"],[42,22,29,11],[42,23,29,2],[42,25,29,23],[43,0,30,4],[43,13,30,11,"cache"],[43,18,30,16],[43,19,30,17,"cacheKey"],[43,27,30,16],[43,28,30,4],[44,0,31,3],[46,0,33,2],[46,8,33,8,"positions"],[46,17,33,17],[46,20,33,20,"Object"],[46,26,33,26],[46,27,33,27,"keys"],[46,31,33,20],[46,32,33,32,"definition"],[46,42,33,20],[46,44,34,5,"map"],[46,47,33,20],[46,48,34,9,"parsePosition"],[46,61,33,20],[46,63,35,5,"filter"],[46,69,33,20],[46,70,35,12,"notNull"],[46,77,33,20],[46,78,33,2],[47,0,36,2,"positions"],[47,4,36,2,"positions"],[47,13,36,11],[47,14,36,12,"sort"],[47,18,36,2],[47,19,36,17,"compareNumbers"],[47,33,36,2],[49,0,38,2],[49,8,38,6,"positions"],[49,17,38,15],[49,18,38,16,"length"],[49,24,38,6],[49,27,38,25],[49,28,38,2],[49,30,38,28],[50,0,39,4],[50,12,39,10],[50,16,39,14,"Error"],[50,21,39,10],[50,22,39,20],[50,76,39,10],[50,77,39,4],[51,0,40,3],[53,0,42,2],[53,8,42,8,"compiled"],[53,16,42,16],[53,19,42,19],[53,21,42,2],[55,0,43,2],[55,8,43,6,"definition"],[55,18,43,16],[55,19,43,17,"easing"],[55,25,43,2],[55,27,43,25],[56,0,44,4,"compiled"],[56,6,44,4,"compiled"],[56,14,44,12],[56,15,44,13,"easing"],[56,21,44,4],[56,24,44,22,"definition"],[56,34,44,32],[56,35,44,33,"easing"],[56,41,44,4],[57,0,45,3],[59,0,46,2],[59,8,46,6,"definition"],[59,18,46,16],[59,19,46,17,"style"],[59,24,46,2],[59,26,46,24],[60,0,47,4,"compiled"],[60,6,47,4,"compiled"],[60,14,47,12],[60,15,47,13,"style"],[60,20,47,4],[60,23,47,21,"definition"],[60,33,47,31],[60,34,47,32,"style"],[60,39,47,4],[61,0,48,3],[63,0,27,52],[63,31,50,11,"i"],[63,32,27,52],[64,0,51,4],[64,10,51,10,"position"],[64,18,51,18],[64,21,51,21,"positions"],[64,30,51,30],[64,31,51,31,"i"],[64,32,51,30],[64,33,51,4],[65,0,52,4],[65,10,52,8,"keyframe"],[65,18,52,16],[65,21,52,19,"definition"],[65,31,52,29],[65,32,52,30,"position"],[65,40,52,29],[65,41,52,4],[67,0,53,4],[67,10,53,8],[67,11,53,9,"keyframe"],[67,19,53,4],[67,21,53,19],[68,0,54,6],[68,12,54,10,"position"],[68,20,54,18],[68,25,54,23],[68,26,54,6],[68,28,54,26],[69,0,55,8,"keyframe"],[69,10,55,8,"keyframe"],[69,18,55,16],[69,21,55,19,"definition"],[69,31,55,29],[69,32,55,30,"from"],[69,36,55,8],[70,0,56,7],[70,9,54,6],[70,15,56,13],[70,19,56,17,"position"],[70,27,56,25],[70,32,56,30],[70,33,56,13],[70,35,56,33],[71,0,57,8,"keyframe"],[71,10,57,8,"keyframe"],[71,18,57,16],[71,21,57,19,"definition"],[71,31,57,29],[71,32,57,30,"to"],[71,34,57,8],[72,0,58,7],[73,0,59,5],[75,0,60,4],[75,10,60,8],[75,11,60,9,"keyframe"],[75,19,60,4],[75,21,60,19],[76,0,61,6],[76,14,61,12],[76,18,61,16,"Error"],[76,23,61,12],[76,24,61,22],[76,76,61,12],[76,77,61,6],[77,0,62,5],[79,0,64,4,"keyframe"],[79,6,64,4,"keyframe"],[79,14,64,12],[79,17,64,15],[79,44,64,28,"keyframe"],[79,52,64,15],[79,53,64,4],[80,0,65,4,"Object"],[80,6,65,4,"Object"],[80,12,65,10],[80,13,65,11,"keys"],[80,17,65,4],[80,18,65,16,"keyframe"],[80,26,65,4],[80,28,65,26,"forEach"],[80,35,65,4],[80,36,65,34],[80,46,65,34,"key"],[80,49,65,37],[80,51,65,41],[81,0,66,6],[81,12,66,10],[81,14,66,12,"key"],[81,17,66,15],[81,21,66,19,"compiled"],[81,29,66,10],[81,30,66,6],[81,32,66,30],[82,0,67,8,"compiled"],[82,10,67,8,"compiled"],[82,18,67,16],[82,19,67,17,"key"],[82,22,67,16],[82,23,67,8],[82,26,67,24],[83,0,68,10,"inputRange"],[83,12,68,10,"inputRange"],[83,22,68,20],[83,24,68,22],[83,26,67,24],[84,0,69,10,"outputRange"],[84,12,69,10,"outputRange"],[84,23,69,21],[84,25,69,23],[85,0,67,24],[85,11,67,8],[86,0,71,7],[88,0,72,6,"compiled"],[88,8,72,6,"compiled"],[88,16,72,14],[88,17,72,15,"key"],[88,20,72,14],[88,21,72,6],[88,22,72,20,"inputRange"],[88,32,72,6],[88,33,72,31,"push"],[88,37,72,6],[88,38,72,36,"position"],[88,46,72,6],[89,0,73,6,"compiled"],[89,8,73,6,"compiled"],[89,16,73,14],[89,17,73,15,"key"],[89,20,73,14],[89,21,73,6],[89,22,73,20,"outputRange"],[89,33,73,6],[89,34,73,32,"push"],[89,38,73,6],[89,39,73,37,"keyframe"],[89,47,73,45],[89,48,73,46,"key"],[89,51,73,45],[89,52,73,6],[90,0,74,5],[90,7,65,4],[91,0,27,52],[93,0,50,2],[93,9,50,7],[93,13,50,11,"i"],[93,14,50,12],[93,17,50,15],[93,18,50,2],[93,20,50,18,"i"],[93,21,50,19],[93,24,50,22,"positions"],[93,33,50,31],[93,34,50,32,"length"],[93,40,50,2],[93,42,50,40,"i"],[93,43,50,41],[93,47,50,45],[93,48,50,2],[93,50,50,48],[94,0,50,48],[94,12,50,11,"i"],[94,13,50,48],[95,0,75,3],[97,0,77,2,"cache"],[97,4,77,2,"cache"],[97,9,77,7],[97,10,77,8,"cacheKey"],[97,18,77,7],[97,19,77,2],[97,22,77,20,"compiled"],[97,30,77,2],[98,0,79,2],[98,11,79,9,"compiled"],[98,19,79,2],[99,0,80,1]]},"type":"js/module"}]}